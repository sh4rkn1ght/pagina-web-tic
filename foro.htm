<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Foro de Comentarios</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f2f5;
            margin: 20px;
            color: #333;
        }

        h2 {
            text-align: center;
            color: #0078d7;
        }

        #commentForm {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
        }

        input[type="text"], textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 14px;
            resize: none;
        }

        button {
            padding: 10px 20px;
            background-color: #0078d7;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
        }

        button:hover {
            background-color: #005a9e;
        }

        #commentsSection {
            margin-top: 30px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .comment {
            background-color: #ffffff;
            border-left: 5px solid #0078d7;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        }

        .comment-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 13px;
            color: #555;
        }

        .comment strong {
            color: #0078d7;
        }

        .no-comments {
            text-align: center;
            color: #777;
            font-style: italic;
        }
    .style1 {
	text-align: left;
}
.style2 {
	text-align: left;
	color: #FFFFFF;
}
    </style>
<script type="text/javascript">
<!--
function FP_preloadImgs() {//v1.0
 var d=document,a=arguments; if(!d.FP_imgs) d.FP_imgs=new Array();
 for(var i=0; i<a.length; i++) { d.FP_imgs[i]=new Image; d.FP_imgs[i].src=a[i]; }
}

function FP_swapImg() {//v1.0
 var doc=document,args=arguments,elm,n; doc.$imgSwaps=new Array(); for(n=2; n<args.length;
 n+=2) { elm=FP_getObjectByID(args[n]); if(elm) { doc.$imgSwaps[doc.$imgSwaps.length]=elm;
 elm.$src=elm.src; elm.src=args[n+1]; } }
}

function FP_getObjectByID(id,o) {//v1.0
 var c,el,els,f,m,n; if(!o)o=document; if(o.getElementById) el=o.getElementById(id);
 else if(o.layers) c=o.layers; else if(o.all) el=o.all[id]; if(el) return el;
 if(o.id==id || o.name==id) return o; if(o.childNodes) c=o.childNodes; if(c)
 for(n=0; n<c.length; n++) { el=FP_getObjectByID(id,c[n]); if(el) return el; }
 f=o.forms; if(f) for(n=0; n<f.length; n++) { els=f[n].elements;
 for(m=0; m<els.length; m++){ el=FP_getObjectByID(id,els[n]); if(el) return el; } }
 return null;
}
// -->
</script>
</head>
<body onload="FP_preloadImgs(/*url*/'button2E.gif',/*url*/'button2F.gif')">
    <h2 class="style1"><a href="index.htm">
	<img style="border: 0" id="img1" src="button2D.gif" height="34" width="172" alt="VOLVER AL MENÚ" fp-style="fp-btn: Metal Capsule 1; fp-font: Arial Black; fp-font-size: 12; fp-transparent: 1" fp-title="VOLVER AL MENÚ" onmouseover="FP_swapImg(1,0,/*id*/'img1',/*url*/'button2E.gif')" onmouseout="FP_swapImg(0,0,/*id*/'img1',/*url*/'button2D.gif')" onmousedown="FP_swapImg(1,0,/*id*/'img1',/*url*/'button2F.gif')" onmouseup="FP_swapImg(0,0,/*id*/'img1',/*url*/'button2E.gif')"></a></h2>
	<h2>Foro de Comentarios</h2>

    <div id="commentForm">
        <input type="text" id="userName" placeholder="Tu nombre" style="width: 576px">
        <textarea id="userComment" placeholder="Escribe tu comentario aquí..." style="width: 96%"></textarea>
        <button onclick="addComment()">Publicar Comentario</button>
    </div>

    <div id="commentsSection">
        <h3 class="style2">Comentarios:</h3>
        <div id="commentsList" class="no-comments">No hay comentarios aún.</div>
    </div>

    <script>
        // Cargar comentarios
        function loadComments() {
            const commentsList = document.getElementById('commentsList');
            const comments = JSON.parse(localStorage.getItem('sharepointComments') || '[]');
            
            commentsList.innerHTML = '';
            if (comments.length === 0) {
                commentsList.innerHTML = '<div class="no-comments">No hay comentarios aún.</div>';
                return;
            }

            comments.forEach(c => {
                const div = document.createElement('div');
                div.className = 'comment';
                div.innerHTML = `
                    <div class="comment-header">
                        <strong>${escapeHtml(c.name)}</strong>
                        <span>${c.date}</span>
                    </div>
                    <div class="comment-body">${escapeHtml(c.comment)}</div>
                `;
                commentsList.appendChild(div);
            });
        }

        // Publicar comentario
        function addComment() {
            const name = document.getElementById('userName').value.trim();
            const comment = document.getElementById('userComment').value.trim();

            if (!name || !comment) {
                alert('Por favor, completa tu nombre y comentario.');
                return;
            }

            const date = new Date();
            const formattedDate = date.toLocaleString('es-ES', { 
                day: '2-digit', month: '2-digit', year: 'numeric',
                hour: '2-digit', minute: '2-digit', second: '2-digit'
            });

            const comments = JSON.parse(localStorage.getItem('sharepointComments') || '[]');
            comments.push({ name: name, comment: comment, date: formattedDate });
            localStorage.setItem('sharepointComments', JSON.stringify(comments));

            document.getElementById('userName').value = '';
            document.getElementById('userComment').value = '';

            loadComments();
        }

        // Evitar inyección de HTML
        function escapeHtml(text) {
            const map = {
                '&': '&amp;',
                '<': '&lt;',
                '>': '&gt;',
                '"': '&quot;',
                "'": '&#039;'
            };
            return text.replace(/[&<>"']/g, function(m) { return map[m]; });
        }

        // Inicializar
        loadComments();
    </script>
</body>
<div id="sliderFondo">
    <div class="slide" style="background-image: url('https://images.alphacoders.com/924/thumb-1920-924468.jpg');"></div>
    <div class="slide" style="background-image: url('https://img1.wallspic.com/crops/5/1/2/0/80215/80215-internet_de_las_cosas-3840x2160.jpg');"></div>
    <div class="slide" style="background-image: url('https://wallpapercat.com/w/full/8/3/2/2127835-3840x2160-desktop-4k-internet-background.jpg');"></div>
    <div class="slide" style="background-image: url('file:///D:/WEB/huella-digital-en-internet.jpg');"></div>
</div>

<style>
#sliderFondo {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;     overflow: hidden;
}

#sliderFondo .slide {
    position: absolute;
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    opacity: 0;
    transition: opacity 2s ease-in-out;
    filter: brightness(70%);
}

#sliderFondo .slide.active {
    opacity: 1;
}
</style>

<script>

const slides = document.querySelectorAll('#sliderFondo .slide');
let current = 0;
slides[current].classList.add('active');

setInterval(() => {
    slides[current].classList.remove('active'); 
        current = (current + 1) % slides.length;        
        slides[current].classList.add('active');    
    }, 5000);
</script>

</html>
